### 概述

设计模式是一套被反复使用、多数人知晓的、经过分类编目的、代码设计经验的总结。使用设计模式是为了可重用代码、让代码更容易被他人理解、保证代码可靠性。 毫无疑问，设计模式于己于他人于系统都是多赢的；设计模式使代码编制真正工程化；设计模式是软件工程的基石脉络，如同大厦的结构一样。

而**设计原则**则是设计模式所遵循的规则，设计模式就是实现了这些原则，从而达到了代码复用、增加可维护性的目的。

在开发过程中，我们会不知不觉的用到这些设计模式，设计原则，可能某些你没听过，但当你了解之后，你会发现，你在编码过程中的确会用到这个设计模式。



### 单一职责原则

定义：一个类只负责一项功能。不仅仅指类，也适用于方法和接口，比如我们常说的一个方法实现一个功能一样。

例子：一家三口，一个负责买菜，一个负责做菜，一个负责洗锅碗瓢盆。如果缺少了什么菜，我们可以让买菜的去买菜，做菜的先做其他的菜。不可让做菜的去买菜，买完回来在做。这不是很浪费时间？

优点：

- 降低复杂度，一个类负责一个功能比负责多个肯定简单很多；
- 提高可读性，可维护性。
- 风险低，修改一个功能的时候，可以降低对其他功能的影响。



### 开闭原则

定义：一个软件实体如类，模块和函数应该对扩展开放，对修改关闭。

例子：在软件的生命周期内，因为变化、升级和维护等原因需要对软件原有代码进行修改时，可能会给旧代码中引入错误，也可能会使我们不得不对整个功能进行重构，并且需要原有代码经过重新测试。

解决思路：当软件需要变化时，尽量通过扩展软件实体的行为来实现变化，而不是通过修改已有的代码来实现变化。



### 里氏替换原则

定义：子类可以扩展父类的功能，但不能更改父类原有的功能。

例子：A类有个加法的方法，B类去实现A类的加法方法在里面做减法，现在通过B去实现加法实际做的是减法操作。

优点：

- 代码重用，减少成本
- 可扩展性

缺点：

- 继承是侵入性的，会造成子类代码冗余
- 灵活性降低



### 依赖倒置原则

定义：面向接口编程

例子：类A直接依赖类B，假如要将类A改为依赖类C，则必须通过修改类A的代码来达成。这种场景下，类A一般是高层模块，负责复杂的业务逻辑；类B和类C是低层模块，负责基本的原子操作；假如修改类A，会给程序带来不必要的风险。

解决思路：

- 低层模块尽量都要有抽象类或接口，或者两者都有。
- 变量的声明类型尽量是抽象类或接口。
- 使用继承时遵循里氏替换原则。



### 迪米特原则

定义：一个实体应当尽量少的与其他实体之间发生相互作用，使得系统功能模块相对独立。也就是说一个软件实体应当尽可能少的与其他实体发生相互作用。这样，当一个模块修改时，就会尽量少的影响其他的模块，扩展会相对容易，这是对软件实体之间通信的限制，它要求限制软件实体之间通信的宽度和深度。

例子：A寻求B找一个律师，B通过他七大姑八大姨各种关系找到了一个律师C，A只需要知道律师C，而不需要知道B的七大姑八大姨。



### 接口隔离原则

定义：建立单一接口，接口方法不宜臃肿。尽量细化接口。

解决思路：

- 接口尽量小，但是要有限度。对接口进行细化可以提高程序设计灵活性是不挣的事实，但是如果过小，则会造成接口数量过多，使设计复杂化。所以一定要适度。
- 为依赖接口的类定制服务，只暴露给调用的类它需要的方法，它不需要的方法则隐藏起来。只有专注地为一个模块提供定制服务，才能建立最小的依赖关系。
- 提高内聚，减少对外交互。使接口用最少的方法去完成最多的事情。



### 总结

在应用开发中，最难的不是去完成任务。而是后期的维护与优化。为了保证后续代码的清晰，灵活。在不破坏系统稳定性的前提下保持可扩展，高内聚，低耦合。遵循六大设计原则是我们说迈出的第一步。

